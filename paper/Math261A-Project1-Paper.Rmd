---
title: "California Registered Nurse Shortages: Does Population Predict Gap Percentage?"
author: "Andrew Young"
thanks: "Project repository available at: [https://github.com/AndrewBruceYoung/MATH261A-Project-1-Nurse-Shortage](https://github.com/AndrewBruceYoung/MATH261A-Project-1-Nurse-Shortage)."
date: "`2025-09-23`"
output:
  pdf_document: default
  html_document: default
header-includes:
  - \usepackage{float}
geometry: margin=1in
fontsize: 11pt
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Abstract

Registered nurse (RN) staffing shortfalls affect access to care and hospital operations for large amounts of citizens across California. In this paper, I tested whether population size predicts the projected registered nurse shortage “gap percent” across California using the 2025 Registered Nurse Shortage Areas data set provided by CA.gov and the Department of Health Care Access and Information. The simple OLS regression of gap percent on estimated population I ran found a positive association; for each additional increase in 1,000,000 residents in a county there was about a +10.4 percentage point improvement in the gap percent of RNs, while the model explained about 8% of the variation. My post-regression diagnostics found a roughly linear relationship with heavy tails. Because the data I am working with are projections and the effect is modest, I concluded that population is a weakly positively correlated predictor of gap percentage, and that planning for this issue could use additional drivers such as wages, hospital capacity, and education, rather than just population alone.

---

# Introduction

Nurses are a critically important part of California’s health-care workforce, and staffing shortages have gotten increased attention from the public since the COVID-19 pandemic. In an effort to guide planning, California’s Department of Health Care Access and Information (HCAI) identifies Registered Nurse Shortage Areas (RNSAs) and reports a projected “gap percentage” that compares nurse supply to demand (HCAI, 2025).

For clarity, RNSAs are custom geographies used by HCAI to track RN workforce needs. In most of the state these RNSAs align with existing counties, but the Los Angeles County is divided into Service Planning Areas (SPAs) and is thus reported at the SPA level. In this study I treat the observational unit as a county, with Los Angeles represented by its SPAs, meaning refernces to “county” below includes LA SPAs (HCAI, 2025).

My paper aims to better understand this information and asks the question, “Can population size predict the projected RN shortage gap percentage across California’s counties?” Communities with greater population numbers might benefit from a larger pool of people from training programs, bigger hospital systems, and deeper labor markets, while smaller or rural areas might face recruitment and retention challenges.

To address this, I analyzed the 2025 California RNSA dataset provided by CA.gov and HCAI and fit a simple linear regression with RN shortage gap percentage as the outcome and estimated population as the predictor. The results show a positive association between population and the gap percentage, but the effect is modest and leaves substantial unexplained variation, indicating other factors are likely more influential.

My analysis found a light positive association: for every additional one million residents, the gap increases by about +10.4 percentage points, indicating that more populous areas tend to have less severe shortages on average. However, the model explains only about 8% of the variation, so population by itself seems to be an incomplete predictor of local RN needs. This matters for policy because it suggests that interventions for this problem can look to population as a lightly guiding metric, but there are more variables that can be taking effect on this gap. The rest of the paper proceeds as follows: the Data section describes variables and cleaning, Methods states the regression model and assumptions, Results presents estimates and the fitted plot, Discussion interprets findings and limitations, and Conclusion summarizes implications and next steps.

---

# Data
In the data set I am working with, the observational units are California counties (with Los Angeles Service Planning Areas (SPAs) included as separate areas). The raw 2025 Registered Nurse Shortage Areas file contains 66 rows; after basic cleaning and removal of one record with missing values, the analytic data set contains 65 usable rows. Each row represents one county (or LA SPA) in 2025.

**Variables used:**

Est. Population (renamed to est_population) is the estimated 2025 population in county.

Gap % (renamed to gap_pct) is the RN shortage gap percentage, defined as: 

$gap % = ((supply - demand)/demand) * 100$

Negative values mean there is a shortage, positive values mean there is a surplus.

Supply is the numerical amount designating how many RNs a county has, designated by the HCAI

Demand is the numerical amount designating how much need there are for RNs in a county, designated by the HCAI

County is the name of county (or LA SPA) where information was gathered from

Only est_population and gap_pct enter the regression, the others variables listed here provide context and possible checks.

**Collection and transformations:**

This data set is a state projection for 2025 produced by the HCAI using an RN supply–demand model, not a direct count. Thus, my estimates reflect what HCAI projects rather than observed 2025 outcomes. I transformed the raw file into a data set that was analysis ready with the steps following: First, I standardized column names so they were easier to work with. Then, I removed empty extra columns present in the CSV file. Finally, I changed the strings that were present in the gap_percent column, such as “-15.1%”, to numeric

Because the gap % was generated by the HCAI’s supply demand model, my analysis is effectively relating population to a modeled outcome. HCAI’s page describes a model that combines supply factors, such as workforce pipeline, separations, and retirements, and demand factors such as service use. Although the full input list is not given, population is possibly related to demand, which means population may already influence the HCAI modeled gap % to some degree. This does not invalidate my analysis, but it does mean the observed association should be interpreted as population vs. HCAI’s projected gap, not vs. a completely independent, observed measure.

**Key characteristics:**

The estimated population of each county varies greatly, from about 1000 residents to several million in the largest. The Gap_pct variable is similar, spanning from -80% in some counties to +100% in others. This wide spread explains why a single predictor may only partially account for variation in shortage severity.

Below I attached a simple table containing some summary statistics of estimated population and gap percentage.

```{r data-summary, echo=FALSE, message=FALSE, warning=FALSE}
library(readr)
library(dplyr)
library(janitor)
library(knitr)

cleaned_data <- read_csv("2025-registered-nurse-shortage-areas-cleaned.csv", show_col_types = FALSE) %>%
  clean_names()

cleaned_data %>%
  summarise(
    n_areas = n(),
    pop_min = min(est_population, na.rm = TRUE),
    pop_median = median(est_population, na.rm = TRUE),
    pop_max = max(est_population, na.rm = TRUE),
    gap_min_pct = min(gap_pct, na.rm = TRUE),
    gap_median = median(gap_pct, na.rm = TRUE),
    gap_max_pct = max(gap_pct, na.rm = TRUE)) %>%
  kable(caption = "Sample size and ranges for population and RN gap percentage.")

```

---

# Methods

I studied the association between population size and projected RN shortage severity using an ordinary least squares simple linear regression.

**Model and notation:**

Let $Y_i$ denote the RN shortage gap percentage for area i

Let $X_i$ denote the estimated 2025 population for area i

Let $\beta_0$ be the intercept and $\beta_1$ be the slope (expected change in gap percentage for a one person increase in population)

Let $\epsilon_i$ be the random error for area i

With all of these, the model would be:

$Y_i$ = $\beta_0$ + $\beta_1$($X_i$) + $\epsilon_i$

Since we are dealing with potentially millions of people, for interpretation I also report $\beta_1$ per 1,000,000 people by multiplying the estimated slope by $10^6$.

**Justification and modeling decisions:**

I felt that a bivariate OLS model would be appropriate for this projects goal of demonstrating and interpreting a simple linear relationship. I used population as the explanatory variable because it is an incredibly policy relevant factor that could possibly relate to nurse availability and demand. Because the population spans such different and large values, I presented the slope per 1,000,000 people for readability. I chose not to remove observations that were deemed outliers as I felt that this preserves reproducibility and avoids some post-hoc problems.

**Assumptions:**

The standard simple linear regression assumptions apply here, being: 

Linearity, meaning the mean gap % changes linearly with population. 

Independence, meaning areas are independent observations (including LA SPAs treated as separate areas). 

Homoskedasticity, meaning the error variance is constant across the range of $X$. 

Normality of errors, meaning the residuals are approximately normal, supporting t-test based inference.

In addition, because the dataset is a projection produced by HCAI’s supply–demand model, I assumed any projection error is small and roughly unbiased for the purposes of this analysis.

**Diagnostics and validation steps:**

I assessed assumptions using two diagnostic plots, Residuals vs Fitted (which examines linearity and equal variance), and Normal Q-Q (which examines normality). This is done in an effort to look deeper into how this model holds up with the assumptions of simple linear regression that I want to abide by.

**Software and implementation:**

All analyses were performed in R using readr and janitor for import/cleaning, dplyr for wrangling, ggplot2 for the scatter plot with a fitted line, broom for tidy model summaries, and scales for axis labels.

---

# Results and Discussion

**Model fit and key estimates:**

After fitting an OLS regression of RN shortage gap percentage on population, I ended up with this plot and regression line:

```{r fig-scatter, echo=FALSE, message=FALSE, warning=FALSE, fig.cap="RN Shortage Gap (%) vs Population. Points are counties; the blue line is the OLS fit and the gray area is its 95% confidence band.", fig.pos='H', fig.align='center', out.width='78%', fig.width=6, fig.height=3}
library(ggplot2)
library(scales)

ggplot(cleaned_data, aes(x = est_population, y = gap_pct)) +
  geom_point(alpha = 0.85) +
  geom_smooth(method = "lm", se = TRUE) +
  scale_x_continuous(labels = label_number(scale_cut = cut_short_scale())) +
  labs(x = "Population", y = "RN Gap (%)") +
  theme_minimal()
```

The estimated slope ended up being statistically different from zero at the 5% level, with a p-value = .0216, with +10.4 percentage points per +1,000,000 people. This p-value comes from the t-test done on the slope of $\beta_1$. The hypothesis for said t-test would be $H_0: \beta_1 = 0$, meaning no linear relationship exists, vs. $H_A : \beta_1 \neq 0$, meaning there is some relationship. These operate under the usual simple linear model assumptions listed earlier, being linearity, independant erros, constant variance, and normal residuals.

The intercept is about -23.3 and is not too meaningful in this case as it relates to a population of 0. The model fit was modest with an $R^2$ of 0.081 and an Adj. $R^2$ of 0.06, and the residual standard error is roughly 27 percent. The fitted scatterplot shows a slight upward trend with wide spread that increases the larger the population

**Plain-English interpretation:**

Essentially, my results found modest evidence that areas with larger populations tend to have less severe RN shortages on average. According to my output, increasing population by one million residents is associated with an improvement of about 10 percentage points in the gap. However, the overall effect is pretty small and leaves most of the variation unexplained, so population by itself should not be used to predict local RN needs.

**Connection to the research question:**

My original question was whether population size predicts the projected RN shortage gap. While the answer that i got was yes, it is a weak yes. Population alone seems to be correlated, however likely is not a sufficient driver for this output by itself. This implies that planning and policy should not rely on solely population alone, there are probably plenty of other factors that matter in planning for this issue.

**Diagnostics:**

As stated before, two diagnostic checks were used. My Residuals vs Fitted plot ended up showing no strong curvature, suggesting that using a linear form to represent their relationship is reasonable. However, there is a slight increase in residual spread at higher fitted values. This mild shape that is being formed points to light heteroskedasticity, which mostly affects standard errors rather than the slope itself. You can see this plot below:

```{r fig-diagnostics, echo=FALSE, message=FALSE, warning=FALSE, fig.cap="Diagnostics: Residuals vs Fitted. Dots are residuals, the red smooth shows the average trend. No strong curvature is seen, there is a slight increase in spread at higher fitted values (mild heteroskedasticity).", fig.pos='H', fig.align='center', fig.height=3.6, fig.width=6.0}

dm1 <- lm(gap_pct ~ est_population, data = cleaned_data)

par(mfrow = c(1,1))
plot(dm1, which = 1, sub.caption = "", caption = "Residuals vs Fitted")
```

My Normal Q–Q plot is close to the reference line with deviations at both tails.  The departures from the line at both tails likely reflects that there are a few areas with unusually large positive or negative residuals. You can see this plot below:

```{r fig-diagnostics2, echo=FALSE, message=FALSE, warning=FALSE, fig.cap="Diagnostics: Normal Q–Q. Points follow the reference line through the middle with tail deviations, indicating approximately normal residuals with heavier tails at the ends.", fig.pos='H', fig.align='center', fig.height=3.6, fig.width=6.0}

par(mfrow = c(1,1))
plot(dm1, which = 2, sub.caption = "", caption = "Normal Q–Q")
```

Overall, these diagnostics display results that are consistent with the assumptions used for the t-test on $\beta_1$ (roughly linear mean and approximately normal residuals), with the slightly non constant variance noted above.

**Potential limitations and pitfalls.**

A key limitation to my project is that the data used are projections for 2025 from HCAI’s RN supply demand model, not actual counts. Inference on this data thus heavily depends on the model that produced the projections. On top of that, if the HCAI model uses demographic inputs, such as population or a closely related variable, to generate gap percentages, then regressing the gap on population could introduce some errors due to overlap. 

Another limitation is that for an issue like this, a single predictor almost certainly cannot fully explain what goes on behind these scenes for supply and demand of RNs, as there are many other factors that can go into affecting these needs (wages, amount of nearby hospitals, education). Finally, the other limitation to this project is that if for whatever reason the LA SPAs are not independent from one another, this could have affected my results and output.

**Possible extensions and improvements:**

To further examine robustness and improve fit, I decided on two possible extensions that could be done:

1. Re-fit with log(population) as the predictor to address possible curvature that may come from very large areas

2. A counties-only model that excludes LA SPAs to examine the effect they may have when treated as a single county

3. Run these same tests again at the end of 2025 once these data points have actually been collected and compare to these results from the predicted values.

---

# References

Department of Health Care Access and Information (HCAI). (2025). Registered Nurse Shortage Areas in California. California Open Data Portal. https://data.ca.gov/dataset/registered-nurse-shortage-areas-in-california

RDocumentation. (2025). RDocumentation. https://www.rdocumentation.org/

Stack Overflow. (2025). Stack Overflow — Questions. https://stackoverflow.com/questions

R Core Team (2025). R: A language and environment for statistical computing. Vienna, Austria: R Foundation for Statistical Computing. https://www.R-project.org/.
